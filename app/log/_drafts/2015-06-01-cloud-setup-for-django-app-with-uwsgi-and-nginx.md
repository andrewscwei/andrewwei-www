---
published: true
title: Cloud Setup for Django App with uWSGI and Nginx
tags: 
  - systems
---

This log demonstrates how to set up a Django app on a cloud VM instance and serve it using uWSGI and Nginx from **scratch**. Note the following assumptions:

1.	The app is set up on a Linux system.
2.	The app is version controlled by [Git](https://git-scm.com).
3. 	The app uses [Gulp](http://gulpjs.com) as its asset pipeline, hence requiring [Node.js](https://nodejs.org) as its dependency.
4.	The app is generated by [generator-vars-django](https://github.com/VARIANTE/generator-vars-django).

Aside from assumption #1, the rest are optional nice-to-haves which are not required to get a Django app up and running.

Let's begin.

## Installing Packages

1.	Update APT packages, no explanations needed.
```
$ sudo apt-get update
```

2.	Install [Git](https://git-scm.com) to pull down the app's source code.
```
$ sudo apt-get install git-core
```
   
3.	Install [Upstart](http://upstart.ubuntu.com) if the system is still using [SysVinit](https://wiki.archlinux.org/index.php/SysVinit). This will make writing startup scripts much easier later on.
```
$ sudo apt-get install upstart
```
When prompted, enter 'Yes, do as I say!'.

4.	Install `nvm` so you have the freedom to juggle between different `npm` versions. Install it globally to save yourself from the trouble of managing global node packages later on. This allows you to run `nvm` with `sudo`. Follow this [guide](https://github.com/xtuple/nvm) or simply run:
```
$ sudo wget -qO- https://raw.githubusercontent.com/xtuple/nvm/master/install.sh | sudo bash
```

5. 	Install `node` via `nvm`. Pick the version of your choice or simply get the latest stable version:
```
sudo nvm install stable
```

6.	Install `gulp` globally to build the app (assuming you have [Gulp](http://gulpjs.com) setup, which comes with [generator-vars-django](https://github.com/VARIANTE/generator-vars-django):
```
sudo npm install -g gulp
```

7. 	Install `python`/`pip` as needed by any Django app.
```
$ sudo apt-get install python-pip python-virtualenv python-dev build-essential
```

8. 	Install database of your choice. Here are a couple examples:
	1.	To install MySQL:
    	```
        $ sudo apt-get install mysql-server
		$ sudo apt-get install python-mysqldb
		```
    2.	To install PostgreSQL:
    	```
        $ sudo apt-get install libpq-dev python-dev python-psycopg2
		$ sudo apt-get install postgresql postgresql-contrib
        ```






